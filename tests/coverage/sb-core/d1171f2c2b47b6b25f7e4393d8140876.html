<html><head><style type='text/css'>
*.state-0 { background-color: #eeeeee }
*.state-1 { background-color: #aaffaa }
*.state-5 { background-color: #44dd44 }
*.state-2 { background-color: #ffaaaa }
*.state-10 { background-color: #ee6666 }
*.state-15 { color: #aaaaaa; background-color: #eeeeee }
*.state-9,*.state-6 { background-color: #ffffaa }
div.key { margin: 20px; width: 200px }
div.source { width: 88ex; background-color: #eeeeee; padding-left: 5px;
             /* border-style: solid none none none; border-width: 1px;
             border-color: #dddddd */ }

*.line-number { color: #666666; float: left; width: 6ex; text-align: right; margin-right: 1ex; }

table.summary tr.head-row { background-color: #aaaaff }
table.summary tr td.text-cell { text-align: left }
table.summary tr td.main-head { text-align: center }
table.summary tr td { text-align: right }
table.summary tr.even { background-color: #eeeeff }
table.summary tr.subheading { background-color: #aaaaff}
table.summary tr.subheading td { text-align: left; font-weight: bold; padding-left: 5ex; }
</style></head><body><h3>Coverage report: /home/phil/source/naive/cl-naive-store/src/document-types/document-types.lisp <br />
</h3>
<table class='summary'><tr class='head-row'><td width='80px'>Kind</td><td width='80px'>Covered</td><td width='80px'>All</td><td width='80px'>%</td><tr class='odd'><td>expression</td><td>369</td><td>991</td><td> 37.2</td></tr>
<tr class='even'><td>branch</td><td>32</td><td>142</td><td> 22.5</td></tr>
</table><div class='key'><b>Key</b><br />
<div class='state-0'>Not instrumented</div><div class='state-15'>Conditionalized out</div><div class='state-1'>Executed</div><div class='state-2'>Not executed</div><div>&#160;</div><div class='state-5'>Both branches taken</div><div class='state-6'>One branch taken</div><div class='state-10''>Neither branch taken</div></div><nobr><div><code>
</code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>1</code></div><code>&#160;<span class='state-2'>&#40;in&#45;package&#160;&#58;cl&#45;naive&#45;store&#46;document&#45;types&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>2</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>3</code></div><code>&#160;<span class='state-2'>&#40;defclass&#160;element&#160;&#40;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>4</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#40;name&#160;&#58;initarg&#160;&#58;name</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>5</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;name</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>6</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>7</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;Name&#160;of&#160;the&#160;element&#46;&#160;This&#160;should&#160;be&#160;a&#160;KEYWORD&#160;if&#160;you&#160;want&#160;data&#160;portability&#160;and&#160;some&#160;internals&#160;might&#160;expect&#160;a&#160;keyword&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>8</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;document&#45;type&#160;&#58;initarg&#160;&#58;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>9</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>10</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>11</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;The&#160;document&#45;type&#160;that&#160;this&#160;element&#160;belongs&#160;to&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>12</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;concrete&#45;type&#160;&#58;initarg&#160;&#58;concrete&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>13</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;concrete&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>14</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>15</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;A&#160;user&#160;defined&#160;&#92;&#34;thing&#92;&#34;&#160;that&#160;defines&#160;the&#160;type&#160;specifics&#160;of&#160;an&#160;element&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>16</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;key&#45;p&#160;&#58;initarg&#160;&#58;key&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>17</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;key&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>18</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>19</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;Indicates&#160;that&#160;the&#160;element&#160;is&#160;part&#160;of&#160;the&#160;primary&#160;key&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>20</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>21</code></div><code>&#160;<span class='state-2'>&#160;Can&#160;be&#160;used&#160;for&#160;indexing&#160;and&#160;document&#160;comparison&#46;&#160;For&#160;example&#160;when&#160;a&#160;new&#160;document&#160;is&#160;persisted&#160;naive&#45;store&#45;documents&#160;checks&#160;for&#160;documents&#160;with&#160;the&#160;same&#160;index&#160;value&#160;and&#160;then&#160;updates&#160;the&#160;existing&#160;document&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>22</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;attributes&#160;&#58;initarg&#160;&#58;attributes</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>23</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;attributes</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>24</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>25</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;A&#160;property&#160;list&#160;of&#160;additional&#160;element&#160;attributes&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>26</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>27</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#58;documentation&#160;&#34;A&#160;definition&#160;of&#160;an&#160;element&#160;of&#160;a&#160;document&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>28</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>29</code></div><code>&#160;<span class='state-2'>NOTES&#58;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>30</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>31</code></div><code>&#160;<span class='state-2'>Elements&#160;can&#160;reference&#160;simple&#160;types&#44;&#160;a&#160;complex&#160;document&#160;or&#160;documents&#160;based&#160;on&#160;other&#160;document&#45;types&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>32</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>33</code></div><code>&#160;<span class='state-2'>naive&#45;store&#160;can&#160;be&#160;used&#160;as&#160;a&#160;hierarchical&#160;database&#160;or&#160;a&#160;flat&#160;databases&#160;or&#160;a&#160;mix&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>34</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>35</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;print&#45;object&#160;&#40;&#40;element&#160;element&#41;&#160;stream&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>36</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;if&#160;&#42;print&#45;readably&#42;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>37</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#40;&#126;S&#160;&#126;S&#41;&#34;&#160;&#40;class&#45;name&#160;&#40;class&#45;of&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>38</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>39</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;&#40;document&#45;type&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>40</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>41</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;attributes&#160;&#40;attributes&#160;element&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>42</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;print&#45;unreadable&#45;object&#160;&#40;element&#160;stream&#160;&#58;type&#160;t&#160;&#58;identity&#160;t&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>43</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#126;S&#34;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>44</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;&#40;and&#160;</span><span class='state-10'>&#40;document&#45;type&#160;</span><span class='state-2'>element</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>45</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;&#40;document&#45;type&#160;element&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>46</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;attributes&#160;&#40;attributes&#160;element&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>47</code></div><code>&#160;<span class='state-2'>&#160;&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>48</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>49</code></div><code>&#160;<span class='state-2'>&#40;defclass&#160;document&#45;type&#160;&#40;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>50</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#40;store&#160;&#58;initarg&#160;&#58;store</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>51</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;store</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>52</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>53</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;The&#160;store&#160;that&#160;this&#160;document&#45;type&#160;belongs&#160;to&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>54</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;element&#45;class&#160;&#58;initarg&#160;&#58;element&#45;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>55</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;element&#45;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>56</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;&#39;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>57</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;allocation&#160;&#58;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>58</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;The&#160;class&#160;that&#160;should&#160;be&#160;used&#160;to&#160;make&#160;element&#160;documents&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>59</code></div><code>&#160;<span class='state-2'>NOTES&#58;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>60</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>61</code></div><code>&#160;<span class='state-2'>element&#45;class&#160;is&#160;declaratively&#160;specified&#160;here&#160;so&#160;that&#160;elements&#160;can&#160;be&#160;dynamicly&#160;created&#160;when&#160;definition&#160;type&#160;definitions&#160;are&#160;read&#160;from&#160;file&#46;&#160;See&#160;naive&#45;store&#45;documents&#160;for&#160;usage&#160;examples&#46;&#160;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>62</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;name&#160;&#58;initarg&#160;&#58;name</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>63</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;name</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>64</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>65</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;String&#160;representing&#160;a&#160;document&#45;type&#160;name&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>66</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;location&#160;&#58;initarg&#160;&#58;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>67</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>68</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>69</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;The&#160;directory&#160;path&#160;to&#160;where&#160;files&#160;for&#160;this&#160;collection&#160;are&#160;stored&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>70</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;label&#160;&#58;initarg&#160;&#58;label</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>71</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;label</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>72</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>73</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;Human&#160;readable&#47;formated&#160;short&#160;description&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>74</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;elements&#160;&#58;initarg&#160;&#58;elements</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>75</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;elements</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>76</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>77</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;Field&#160;definitions&#160;that&#160;represents&#160;a&#160;data&#160;unit&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>78</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#58;documentation&#160;&#34;A&#160;class&#160;that&#160;can&#160;be&#160;use&#160;to&#160;represent&#160;a&#160;complex&#160;document&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>79</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>80</code></div><code>&#160;<span class='state-2'>NOTES&#58;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>81</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>82</code></div><code>&#160;<span class='state-2'>The&#160;default&#160;implementation&#160;of&#160;cl&#45;naive&#45;store&#160;is&#160;unaware&#160;of&#160;document&#45;types&#160;when&#160;reading&#160;and&#160;writing&#160;documents&#160;to&#160;and&#160;from&#160;file&#46;&#160;This&#160;was&#160;by&#160;design&#44;&#160;to&#160;place&#160;as&#160;little&#160;burden&#160;on&#160;reading&#160;and&#160;writing&#160;documents&#46;&#160;Depending&#160;on&#160;the&#160;use&#160;of&#160;naive&#45;store&#160;a&#160;user&#160;could&#160;customize&#160;the&#160;reading&#160;and&#160;writing&#160;methods&#160;of&#160;naive&#45;store&#160;to&#160;use&#160;document&#45;types&#160;for&#160;validation&#160;and&#160;file&#160;layout&#160;specifics&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>83</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>84</code></div><code>&#160;<span class='state-2'>GUI&#39;s&#160;like&#160;cl&#45;wfx&#160;use&#160;these&#160;to&#160;help&#160;with&#160;generic&#160;rendering&#160;of&#160;user&#160;input&#160;screens&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>85</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>86</code></div><code>&#160;<span class='state-2'>See&#160;cl&#45;naive&#45;type&#45;defs&#58;&#42;example&#45;type&#45;defs&#42;&#160;for&#160;examples&#160;of&#160;type&#160;definitions&#160;to&#160;get&#160;a&#160;feel&#160;for&#160;the&#160;intended&#160;use&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>87</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>88</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;print&#45;object&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#160;stream&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>89</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;if&#160;&#42;print&#45;readably&#42;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>90</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#40;&#126;S&#160;&#126;S&#41;&#34;&#160;&#40;class&#45;name&#160;&#40;class&#45;of&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>91</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>92</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;store&#160;&#40;store&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>93</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>94</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;elements&#160;&#40;elements&#160;document&#45;type&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>95</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;print&#45;unreadable&#45;object&#160;&#40;document&#45;type&#160;stream&#160;&#58;type&#160;t&#160;&#58;identity&#160;t&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>96</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#126;S&#34;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>97</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;store&#160;&#40;and&#160;</span><span class='state-10'>&#40;store&#160;</span><span class='state-2'>document&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>98</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;&#40;store&#160;document&#45;type&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>99</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;elements&#160;&#40;map&#160;&#39;list&#160;&#40;function&#160;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>100</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;elements&#160;document&#45;type&#41;&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>101</code></div><code>&#160;<span class='state-2'>&#160;&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>102</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>103</code></div><code>&#160;<span class='state-2'>&#40;defclass&#160;document&#45;type&#45;collection&#45;mixin&#160;&#40;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>104</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#40;document&#45;type&#160;&#58;initarg&#160;&#58;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>105</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>106</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>107</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;The&#160;document&#45;type&#160;that&#160;this&#160;collection&#160;contains&#160;documents&#160;of&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>108</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#58;documentation&#160;&#34;Collection&#160;extention&#160;to&#160;make&#160;collection&#160;of&#160;a&#160;specific&#160;document&#45;type&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>109</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>110</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;print&#45;object&#160;&#40;&#40;collection&#160;document&#45;type&#45;collection&#45;mixin&#41;&#160;stream&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>111</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;if&#160;&#42;print&#45;readably&#42;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>112</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#40;&#126;S&#160;&#126;S&#41;&#34;&#160;&#40;class&#45;name&#160;&#40;class&#45;of&#160;collection&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>113</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>114</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;store&#160;&#40;store&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>115</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>116</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;&#40;document&#45;type&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>117</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;shards&#160;&#40;shards&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>118</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;print&#45;unreadable&#45;object&#160;&#40;collection&#160;stream&#160;&#58;type&#160;t&#160;&#58;identity&#160;t&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>119</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#126;S&#34;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>120</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;store&#160;&#40;and&#160;</span><span class='state-10'>&#40;store&#160;</span><span class='state-2'>collection</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>121</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;&#40;store&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>122</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>123</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;&#40;and&#160;</span><span class='state-10'>&#40;document&#45;type&#160;</span><span class='state-2'>collection</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>124</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;&#40;document&#45;type&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>125</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>126</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;shards&#160;&#40;map&#160;&#39;list&#160;&#40;function&#160;short&#45;mac&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>127</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;shards&#160;collection&#41;&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>128</code></div><code>&#160;<span class='state-2'>&#160;&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>129</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>130</code></div><code>&#160;<span class='state-2'>&#40;defclass&#160;document&#45;type&#45;store&#45;mixin&#160;&#40;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>131</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#40;document&#45;type&#45;class&#160;&#58;initarg&#160;&#58;document&#45;type&#45;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>132</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;document&#45;type&#45;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>133</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;&#39;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>134</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;allocation&#160;&#58;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>135</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;The&#160;class&#160;that&#160;should&#160;be&#160;used&#160;to&#160;make&#160;document&#45;type&#160;documents&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>136</code></div><code>&#160;<span class='state-2'>IMPL&#160;NOTES&#58;&#160;To&#160;deal&#160;with&#160;customization&#160;of&#160;document&#45;type&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>137</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#40;document&#45;types&#160;&#58;initarg&#160;&#58;document&#45;types</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>138</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;accessor&#160;document&#45;types</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>139</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;initform&#160;nil</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>140</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;documentation&#160;&#34;List&#160;of&#160;document&#45;types&#160;represented&#160;by&#160;this&#160;store&#39;s&#160;collections&#46;&#34;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>141</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>142</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;print&#45;object&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;&#160;stream&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>143</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;if&#160;&#42;print&#45;readably&#42;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>144</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#40;&#126;S&#160;&#126;S&#41;&#34;&#160;&#40;class&#45;name&#160;&#40;class&#45;of&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>145</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>146</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;universe&#160;&#40;universe&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>147</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>148</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;types&#160;&#40;document&#45;types&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>149</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;collections&#160;&#40;collections&#160;store&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>150</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;print&#45;unreadable&#45;object&#160;&#40;store&#160;stream&#160;&#58;type&#160;t&#160;&#58;identity&#160;t&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>151</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;format&#160;stream&#160;&#34;&#126;S&#34;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>152</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;universe&#160;&#40;and&#160;</span><span class='state-10'>&#40;universe&#160;</span><span class='state-2'>store</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>153</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;&#40;universe&#160;store&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>154</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>155</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;collections&#160;&#40;map&#160;&#39;list&#160;&#40;function&#160;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>156</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;collections&#160;store&#41;&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>157</code></div><code>&#160;<span class='state-2'>&#160;&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>158</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>159</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;getx&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;&#160;accessor&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>160</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#34;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>161</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;cond&#160;&#40;</span><span class='state-6'>&#40;equalp&#160;</span><span class='state-1'>accessor</span><span class='state-6'>&#160;</span><span class='state-1'>&#58;universe</span><span class='state-6'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>162</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;universe&#160;store&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>163</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-6'>&#40;equalp&#160;</span><span class='state-1'>accessor</span><span class='state-6'>&#160;</span><span class='state-1'>&#58;name</span><span class='state-6'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>164</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;name&#160;store&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>165</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-5'>&#40;equalp&#160;</span><span class='state-1'>accessor</span><span class='state-5'>&#160;</span><span class='state-1'>&#58;collections</span><span class='state-5'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>166</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;collections&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>167</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-5'>&#40;equalp&#160;</span><span class='state-1'>accessor</span><span class='state-5'>&#160;</span><span class='state-1'>&#58;collection&#45;class</span><span class='state-5'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>168</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;collection&#45;class&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>169</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-5'>&#40;equalp&#160;</span><span class='state-1'>accessor</span><span class='state-5'>&#160;</span><span class='state-1'>&#58;document&#45;types</span><span class='state-5'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>170</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;types&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>171</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-9'>&#40;equalp&#160;</span><span class='state-1'>accessor</span><span class='state-9'>&#160;</span><span class='state-1'>&#58;document&#45;type&#45;class</span><span class='state-9'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>172</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type&#45;class&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>173</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;location</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>174</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;location&#160;store&#41;</span><span class='state-1'>&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>175</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>176</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;&#40;setf&#160;getx&#41;&#160;&#40;value&#160;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;&#160;accessor</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>177</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>178</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#34;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>179</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;cond&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;universe</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>180</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;universe&#160;store&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>181</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;name</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>182</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;name&#160;store&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>183</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;collections</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>184</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;collections&#160;store&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>185</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;collection&#45;class</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>186</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;collection&#45;class&#160;store&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>187</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;document&#45;types</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>188</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;document&#45;types&#160;store&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>189</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;document&#45;type&#45;class</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>190</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;document&#45;type&#45;class&#160;store&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>191</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;location</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>192</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;location&#160;store&#41;&#160;value&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>193</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>194</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;query&#45;multiverse</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>195</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;element&#160;element&#41;&#160;fn&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>196</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;result&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>197</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;fn&#45;result&#160;&#40;funcall&#160;fn&#160;element&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>198</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;fn&#45;result</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>199</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;push&#160;fn&#45;result&#160;result&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>200</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>201</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;query&#45;multiverse</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>202</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;collection&#160;document&#45;type&#45;collection&#45;mixin&#41;&#160;fn&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>203</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;result&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>204</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;fn&#45;result&#160;&#40;funcall&#160;fn&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>205</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;fn&#45;result</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>206</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;push&#160;fn&#45;result&#160;result&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>207</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>208</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;query&#45;multiverse</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>209</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#160;fn&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>210</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;result&#160;&#40;mapcar&#160;&#40;lambda&#160;&#40;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>211</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;query&#45;multiverse&#160;element&#160;fn&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>212</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;elements&#160;document&#45;type&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>213</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;fn&#45;result&#160;&#40;funcall&#160;fn&#160;document&#45;type&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>214</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;fn&#45;result</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>215</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;push&#160;fn&#45;result&#160;result&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>216</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>217</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;query&#45;multiverse</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>218</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;&#160;fn&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>219</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;result&#160;&#40;append</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>220</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;mapcar&#160;&#40;lambda&#160;&#40;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>221</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;query&#45;multiverse&#160;document&#45;type&#160;fn&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>222</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;types&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>223</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;mapcar&#160;&#40;lambda&#160;&#40;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>224</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;query&#45;multiverse&#160;collection&#160;fn&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>225</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;collections&#160;store&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>226</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;fn&#45;result&#160;&#40;funcall&#160;fn&#160;store&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>227</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;fn&#45;result</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>228</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;push&#160;fn&#45;result&#160;result&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>229</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>230</code></div><code>&#160;<span class='state-0'>&#59;&#59;TODO&#58;Need&#160;to&#160;hunt&#160;down&#160;instances&#160;where&#160;this&#160;function&#160;can&#160;be&#160;used&#160;instead&#160;of&#160;the&#160;more</span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>231</code></div><code>&#160;<span class='state-0'>&#59;&#59;verbose&#160;code&#160;lying&#160;around&#46;</span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>232</code></div><code>&#160;<span class='state-0'>&#59;&#59;currently&#160;not&#160;used&#160;any&#160;where&#63;</span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>233</code></div><code>&#160;<span class='state-2'>&#40;defgeneric&#160;document&#45;of&#45;type&#45;p&#160;&#40;document&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>234</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>235</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;getx&#160;&#40;&#40;element&#160;element&#41;&#160;accessor&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>236</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#34;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>237</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;cond&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;document&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>238</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>239</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;name</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>240</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>241</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;concrete&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>242</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;concrete&#45;type&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>243</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;key&#45;p</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>244</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;key&#45;p&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>245</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;attributes</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>246</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;attributes&#160;element&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>247</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>248</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;&#40;setf&#160;getx&#41;&#160;&#40;value&#160;&#40;element&#160;element&#41;&#160;accessor&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>249</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#34;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>250</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;cond&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;document&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>251</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;document&#45;type&#160;element&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>252</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;name</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>253</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;name&#160;element&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>254</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;concrete&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>255</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;concrete&#45;type&#160;element&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>256</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;key&#45;p</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>257</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;key&#45;p&#160;element&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>258</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;attributes</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>259</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;attributes&#160;element&#41;&#160;value&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>260</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>261</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;getx&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#160;accessor&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>262</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#34;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>263</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;cond&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;store</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>264</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;store&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>265</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;name</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>266</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;name&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>267</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;element&#45;class</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>268</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;element&#45;class&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>269</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;label</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>270</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;label&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>271</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;elements</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>272</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;elements&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>273</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;location</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>274</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;location&#160;document&#45;type&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>275</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>276</code></div><code>&#160;<span class='state-2'>&#40;defgeneric&#160;get&#45;attribute&#160;&#40;element&#160;attribute&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>277</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#58;documentation&#160;&#34;Gets&#160;an&#160;attribute&#160;of&#160;an&#160;element&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>278</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>279</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;get&#45;attribute&#160;&#40;&#40;element&#160;element&#41;&#160;attribute&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>280</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;dolist&#160;&#40;attribute&#160;&#40;attributes&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>281</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#59;&#59;TODO&#58;&#160;Lazy&#160;matching&#160;should&#160;use&#160;cond&#160;with&#160;more&#160;inteligent&#160;matching</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>282</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-10'>&#40;string&#45;equal&#160;</span><span class='state-2'>&#40;getx&#160;attribute&#160;&#58;name&#41;</span><span class='state-10'>&#160;</span><span class='state-2'>&#40;format&#160;nil&#160;&#34;&#126;A&#34;&#160;attribute&#41;</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>283</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;return&#45;from&#160;get&#45;attribute&#160;attribute&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>284</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>285</code></div><code>&#160;<span class='state-2'>&#40;defgeneric&#160;get&#45;element&#160;&#40;document&#45;type&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>286</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;&#58;documentation&#160;&#34;Gets&#160;an&#160;element&#160;from&#160;a&#160;document&#160;type&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>287</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>288</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;get&#45;element&#160;&#40;document&#45;type&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>289</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;dolist&#160;&#40;element&#160;&#40;elements&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>290</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#59;&#59;TODO&#58;&#160;Lazy&#160;matching&#160;should&#160;use&#160;cond&#160;with&#160;more&#160;inteligent&#160;matching</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>291</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-10'>&#40;string&#45;equal&#160;</span><span class='state-2'>&#40;getx&#160;element&#160;&#58;name&#41;</span><span class='state-10'>&#160;</span><span class='state-2'>&#40;format&#160;nil&#160;&#34;&#126;A&#34;&#160;element&#41;</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>292</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;return&#45;from&#160;get&#45;element&#160;element&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>293</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>294</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;&#40;setf&#160;getx&#41;&#160;&#40;value&#160;&#40;document&#45;type&#160;document&#45;type&#41;&#160;accessor&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>295</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#34;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>296</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;cond&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;store</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>297</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;store&#160;document&#45;type&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>298</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;name</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>299</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;name&#160;document&#45;type&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>300</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;element&#45;class</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>301</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;element&#45;class&#160;document&#45;type&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>302</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;label</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>303</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;label&#160;document&#45;type&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>304</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;elements</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>305</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;elements&#160;document&#45;type&#41;&#160;value&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>306</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;</span><span class='state-10'>&#40;equalp&#160;</span><span class='state-2'>accessor</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;location</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>307</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;location&#160;document&#45;type&#41;&#160;value&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>308</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>309</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;persist&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>310</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>311</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#34;Persists&#160;a&#160;document&#45;type&#160;definition&#46;&#160;Path&#160;to&#160;file&#160;is&#160;of&#160;this&#160;general&#160;format&#160;&#47;universe&#47;store&#45;name&#47;document&#45;type&#45;name&#46;type&#46;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>312</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>313</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;elements&#160;&#40;mapcar&#160;&#40;lambda&#160;&#40;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>314</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>315</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;key&#45;p&#160;&#40;key&#45;p&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>316</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;concrete&#45;type&#160;&#40;concrete&#45;type&#160;element&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>317</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;attributes&#160;&#40;attributes&#160;element&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>318</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;elements&#160;document&#45;type&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>319</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>320</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;naive&#45;impl&#58;write&#45;to&#45;file&#160;&#40;cl&#45;fad&#58;merge&#45;pathnames&#45;as&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>321</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pathname&#160;&#40;location&#160;&#40;store&#160;document&#45;type&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>322</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;make&#45;pathname&#160;&#58;name&#160;&#40;name&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>323</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;type&#160;&#34;type&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>324</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;list&#160;&#58;name&#160;&#40;name&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>325</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;label&#160;&#40;label&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>326</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;class&#160;&#40;type&#45;of&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>327</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;elements&#160;elements&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>328</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;if&#45;exists&#160;&#58;supersede&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>329</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>330</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;persist</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>331</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>332</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;persist&#45;definition&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>333</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>334</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;persist&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>335</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#38;key&#160;definitions&#45;only&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>336</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;children&#45;p&#160;t&#41;</span><span class='state-1'>&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>337</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;persist&#45;definition&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>338</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>339</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;when&#160;children&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>340</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;dolist&#160;&#40;collection&#160;&#40;getx&#160;store&#160;&#58;collections&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>341</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;persist&#160;collection&#160;&#58;definitions&#45;only&#45;p&#160;definitions&#45;only&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>342</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;children&#45;p&#160;children&#45;p&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>343</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;dolist&#160;&#40;document&#45;type&#160;&#40;getx&#160;store&#160;&#58;document&#45;types&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>344</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;persist&#160;document&#45;type&#160;&#58;definitions&#45;only&#45;p&#160;&#160;definitions&#45;only&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>345</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;children&#45;p&#160;children&#45;p&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>346</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>347</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;get&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>348</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;element&#45;type&#160;&#40;eql&#160;&#58;element&#41;&#41;&#160;&#40;document&#45;type&#160;document&#45;type&#41;&#160;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>349</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;get&#45;multiverse&#45;element&#42;&#160;document&#45;type&#160;elements&#160;name&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>350</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>351</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;get&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>352</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;element&#45;type&#160;&#40;eql&#160;&#58;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>353</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;&#160;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>354</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;get&#45;multiverse&#45;element&#42;&#160;store&#160;document&#45;types&#160;name&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>355</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>356</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;get&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>357</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;element&#45;type&#160;&#40;eql&#160;&#58;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>358</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#40;store&#160;store&#41;&#160;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>359</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;get&#45;multiverse&#45;element&#42;&#160;store&#160;document&#45;types&#160;name&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>360</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>361</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;add&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>362</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#160;&#40;element&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>363</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>364</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;if&#160;</span><span class='state-6'>&#40;not&#160;</span><span class='state-9'>&#40;document&#45;type&#160;</span><span class='state-1'>element</span><span class='state-9'>&#41;</span><span class='state-6'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>365</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;setf&#160;&#40;document&#45;type&#160;element&#41;&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>366</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;</span><span class='state-9'>&#40;eql&#160;</span><span class='state-1'>&#40;document&#45;type&#160;element&#41;</span><span class='state-9'>&#160;</span><span class='state-1'>document&#45;type</span><span class='state-9'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>367</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;error&#160;&#34;Element&#160;already&#160;references&#160;a&#160;different&#160;document&#45;type&#160;instance&#33;&#34;&#41;</span><span class='state-1'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>368</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>369</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;existing&#160;&#40;get&#45;multiverse&#45;element&#160;&#58;element&#160;document&#45;type&#160;&#40;name&#160;element&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>370</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;if&#160;</span><span class='state-9'>&#40;not&#160;existing&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>371</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pushnew&#160;element&#160;&#40;elements&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>372</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;error&#160;&#34;Element&#160;&#126;A&#160;already&#160;exists&#46;&#34;&#160;&#40;name&#160;existing&#41;&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>373</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>374</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>375</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;add&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>376</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>377</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#40;collection&#160;collection&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>378</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;if&#160;</span><span class='state-5'>&#40;not&#160;&#40;store&#160;</span><span class='state-1'>collection</span><span class='state-5'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>379</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;store&#160;collection&#41;&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>380</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;</span><span class='state-9'>&#40;eql&#160;</span><span class='state-1'>&#40;store&#160;collection&#41;</span><span class='state-9'>&#160;</span><span class='state-1'>store</span><span class='state-9'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>381</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;error&#160;&#34;Collection&#160;already&#160;references&#160;a&#160;different&#160;store&#160;instance&#33;&#34;&#41;</span><span class='state-1'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>382</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>383</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;existing&#160;&#40;get&#45;multiverse&#45;element&#160;&#58;collection&#160;store&#160;&#40;name&#160;collection&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>384</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;if&#160;</span><span class='state-9'>&#40;not&#160;existing&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>385</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;location&#160;&#40;location&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>386</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>387</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>388</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;ensure&#45;directories&#45;exist&#160;&#40;pathname&#160;location&#41;&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>389</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>390</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>391</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>392</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;cl&#45;fad&#58;merge&#45;pathnames&#45;as&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>393</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pathname&#160;&#40;location&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>394</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;make&#45;pathname&#160;&#58;directory&#160;&#40;list&#160;&#58;relative&#160;&#40;name&#160;collection&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>395</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;name&#160;&#40;name&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>396</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;type&#160;&#34;log&#34;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>397</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>398</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;ensure&#45;directories&#45;exist&#160;location&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>399</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>400</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;location&#160;collection&#41;&#160;&#40;pathname&#160;location&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>401</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pushnew&#160;collection&#160;&#40;collections&#160;store&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>402</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;error&#160;&#34;Collection&#160;&#126;A&#160;already&#160;exists&#46;&#34;&#160;&#40;name&#160;existing&#41;&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>403</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;collection&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>404</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>405</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;add&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>406</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>407</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>408</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;if&#160;</span><span class='state-5'>&#40;not&#160;&#40;store&#160;</span><span class='state-1'>document&#45;type</span><span class='state-5'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>409</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;store&#160;document&#45;type&#41;&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>410</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;</span><span class='state-9'>&#40;eql&#160;</span><span class='state-1'>&#40;store&#160;document&#45;type&#41;</span><span class='state-9'>&#160;</span><span class='state-1'>store</span><span class='state-9'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>411</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;error&#160;&#34;Document&#160;Type&#160;already&#160;references&#160;a&#160;different&#160;store&#160;instance&#33;&#34;&#41;</span><span class='state-1'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>412</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>413</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;existing&#160;&#40;get&#45;multiverse&#45;element&#160;&#58;collection&#160;store&#160;&#40;name&#160;document&#45;type&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>414</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;if&#160;</span><span class='state-9'>&#40;not&#160;existing&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>415</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;location&#160;&#40;location&#160;document&#45;type&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>416</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>417</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>418</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;ensure&#45;directories&#45;exist&#160;&#40;location&#160;store&#41;&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>419</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>420</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>421</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;location</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>422</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;cl&#45;fad&#58;merge&#45;pathnames&#45;as&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>423</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pathname&#160;&#40;location&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>424</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;make&#45;pathname&#160;&#58;directory&#160;&#40;list&#160;&#58;relative&#160;&#40;name&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>425</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;name&#160;&#40;name&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>426</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;type&#160;&#34;type&#34;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>427</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>428</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;location&#160;document&#45;type&#41;&#160;&#40;pathname&#160;location&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>429</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pushnew&#160;document&#45;type&#160;&#40;document&#45;types&#160;store&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>430</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;error&#160;&#34;Document&#160;Type&#160;&#126;A&#160;already&#160;exists&#46;&#34;&#160;&#40;name&#160;existing&#41;&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>431</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>432</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>433</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;add&#45;multiverse&#45;element&#160;&#58;after</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>434</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>435</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#40;collection&#160;document&#45;type&#45;collection&#45;mixin&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>436</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#34;Uses&#160;document&#160;type&#160;to&#160;figure&#160;out&#160;what&#160;the&#160;keys&#160;of&#160;the&#160;collection&#160;are&#46;&#34;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>437</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>438</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;when&#160;</span><span class='state-5'>&#40;or</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>439</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-5'>&#160;</span><span class='state-1'>&#40;not&#160;</span><span class='state-9'>&#40;keys&#160;</span><span class='state-1'>collection</span><span class='state-9'>&#41;</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>440</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-5'>&#160;</span><span class='state-1'>&#40;equalp&#160;&#40;keys&#160;collection&#41;&#160;&#39;&#40;&#58;key&#41;&#41;</span><span class='state-5'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>441</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-9'>&#40;document&#45;type&#160;</span><span class='state-1'>collection</span><span class='state-9'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>442</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;document&#45;type&#160;&#40;typecase&#160;&#40;document&#45;type&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>443</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>444</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type&#160;collection&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>445</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;t</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>446</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;get&#45;multiverse&#45;element&#160;&#58;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>447</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;store</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>448</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type&#160;collection&#41;&#41;</span><span class='state-1'>&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>449</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>450</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;let&#160;&#40;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>451</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;dolist&#160;&#40;element&#160;&#40;elements&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>452</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-5'>&#40;key&#45;p&#160;</span><span class='state-1'>element</span><span class='state-5'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>453</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;push&#160;&#40;name&#160;element&#41;&#160;keys&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>454</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;keys</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>455</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;keys&#160;collection&#41;&#160;&#40;nreverse&#160;keys&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>456</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>457</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;instance&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>458</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;class&#160;&#40;eql&#160;</span><span class='state-2'>&#39;element</span><span class='state-1'>&#41;&#41;&#160;definition&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>459</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>460</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;definition&#45;body&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;definition&#45;body</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>461</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;definition&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>462</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;make&#45;instance&#160;&#40;or</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>463</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;getx&#160;definition&#45;body&#160;&#58;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>464</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>465</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;name&#160;&#40;getx&#160;definition&#45;body&#160;&#58;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>466</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;concrete&#45;type&#160;&#40;getx&#160;definition&#45;body&#160;&#58;concrete&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>467</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;key&#45;p&#160;&#40;getx&#160;definition&#45;body&#160;&#58;key&#45;p&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>468</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;attributes&#160;&#40;getx&#160;definition&#45;body&#160;&#58;attributes&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>469</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>470</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;load&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>471</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;document&#45;type&#160;document&#45;type&#41;&#160;&#40;definition&#45;type&#160;&#40;eql&#160;&#58;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>472</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;definition&#160;&#38;key&#160;class&#160;with&#45;children&#45;p&#160;with&#45;data&#45;p&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>473</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>474</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;declare&#160;&#40;ignore&#160;with&#45;data&#45;p&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>475</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>476</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;definition&#45;body&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;definition&#45;body</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>477</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;definition&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>478</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;instance&#160;&#40;instance&#45;from&#45;definition&#160;&#40;or&#160;class&#160;&#39;element&#41;&#160;definition&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>479</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>480</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;when&#160;instance</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>481</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;document&#45;type&#160;instance&#41;&#160;document&#45;type&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>482</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;with&#45;children&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>483</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;dolist&#160;&#40;child&#45;definition&#160;&#40;getx&#160;definition&#45;body&#160;&#58;elements&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>484</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;load&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>485</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#160;instance</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>486</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#160;&#58;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>487</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#160;child&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>488</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#160;&#58;class&#160;&#40;getx&#160;definition&#45;body&#160;&#58;element&#45;class&#41;&#41;</span><span class='state-1'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>489</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;add&#45;multiverse&#45;element&#160;document&#45;type&#160;instance&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>490</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>491</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;instance&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>492</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>493</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;instance&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>494</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;class&#160;&#40;eql&#160;</span><span class='state-2'>&#39;document&#45;type</span><span class='state-1'>&#41;&#41;&#160;definition&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>495</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>496</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#160;&#40;&#40;definition&#45;body&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;definition&#45;body</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>497</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;definition&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>498</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;make&#45;instance&#160;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>499</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;name&#160;&#40;getx&#160;definition&#45;body&#160;&#58;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>500</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;label&#160;&#40;getx&#160;definition&#45;body&#160;&#58;label&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>501</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;element&#45;class&#160;&#40;getx&#160;definition&#45;body&#160;&#58;element&#45;class&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>502</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>503</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;ensure&#45;location&#160;&#40;&#40;object&#160;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>504</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;if&#160;</span><span class='state-10'>&#40;not&#160;&#40;empty&#45;p&#160;</span><span class='state-2'>&#40;location&#160;object&#41;</span><span class='state-10'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>505</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;location&#160;object&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>506</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;if&#160;</span><span class='state-10'>&#40;not&#160;&#40;store&#160;</span><span class='state-2'>object</span><span class='state-10'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>507</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;error&#160;&#34;Document&#45;type&#160;store&#160;not&#160;set&#44;&#160;cant&#160;ensure&#160;location&#46;&#34;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>508</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;if&#160;</span><span class='state-10'>&#40;not&#160;&#40;empty&#45;p&#160;</span><span class='state-2'>&#40;ensure&#45;location&#160;&#40;store&#160;object&#41;&#41;</span><span class='state-10'>&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>509</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;location&#160;object&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>510</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;cl&#45;fad&#58;merge&#45;pathnames&#45;as&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>511</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;pathname&#160;&#40;location&#160;&#40;store&#160;object&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>512</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;make&#45;pathname&#160;&#58;directory&#160;&#40;list&#160;&#58;relative&#160;&#40;name&#160;object&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>513</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;name&#160;&#40;name&#160;object&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>514</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;type&#160;&#34;type&#34;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>515</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;error&#160;&#34;Store&#160;location&#160;is&#160;empty&#160;can&#39;t&#160;manufacture&#160;document&#45;type&#160;location&#160;from&#160;it&#46;&#34;&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>516</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>517</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;load&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>518</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;&#160;&#40;definition&#45;type&#160;&#40;eql&#160;&#58;document&#45;type&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>519</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;definition&#160;&#38;key&#160;class&#160;with&#45;children&#45;p&#160;with&#45;data&#45;p&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>520</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>521</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;declare&#160;&#40;ignore&#160;with&#45;data&#45;p&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>522</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>523</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;let&#42;&#160;&#40;&#40;definition&#45;body&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;definition&#45;body</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>524</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;definition&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>525</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;instance&#160;&#40;instance&#45;from&#45;definition&#160;&#40;or&#160;&#40;getx&#160;definition&#45;body&#160;&#58;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>526</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>527</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;getx&#160;store&#160;&#58;document&#45;type&#45;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>528</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span class='state-2'>&#39;document&#45;type</span><span class='state-1'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>529</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;definition&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>530</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>531</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;when&#160;instance</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>532</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;store&#160;instance&#41;&#160;store&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>533</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;add&#45;multiverse&#45;element&#160;store&#160;instance&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>534</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>535</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;with&#45;children&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>536</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;dolist&#160;&#40;child&#45;definition&#160;&#40;getx&#160;definition&#45;body&#160;&#58;elements&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>537</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;load&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>538</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;instance</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>539</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>540</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;child&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>541</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;class&#160;&#40;getx&#160;definition&#45;body&#160;&#58;element&#45;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>542</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>543</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;with&#45;children&#45;p&#160;with&#45;children&#45;p&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>544</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>545</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;instance&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>546</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>547</code></div><code>&#160;<span class='state-0'>&#59;&#59;TODO&#58;&#160;instance&#45;from&#45;definition&#160;to&#160;set&#160;document&#45;class&#160;of&#160;store&#33;&#33;&#33;&#33;&#33;&#33;</span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>548</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>549</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;instance&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>550</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;class&#160;&#40;eql&#160;&#39;document&#45;type&#45;store&#45;mixin&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>551</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;definition&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>552</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;definition&#45;body&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;definition&#45;body&#160;definition&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>553</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;make&#45;instance&#160;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>554</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;name&#160;&#40;getx&#160;definition&#45;body&#160;&#58;name&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>555</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;location&#160;&#40;getx&#160;definition&#45;body&#160;&#58;location&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>556</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;collection&#45;class&#160;&#40;getx&#160;definition&#45;body&#160;&#58;collection&#45;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>557</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#45;class&#160;&#40;getx&#160;definition&#45;body&#160;&#58;document&#45;type&#45;class&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>558</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>559</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;load&#45;from&#45;definition&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>560</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;parent</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>561</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#40;definition&#45;type&#160;&#40;eql&#160;&#58;element&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>562</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;name&#160;&#38;key&#160;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>563</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;with&#45;children&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>564</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;with&#45;data&#45;p&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>565</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;declare&#160;&#40;ignore&#160;parent&#160;definition&#45;type&#160;definition&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>566</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name&#160;class&#160;with&#45;children&#45;p&#160;with&#45;data&#45;p&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>567</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;error&#160;&#34;Elements&#160;are&#160;part&#160;of&#160;the&#160;document&#45;type&#160;and&#160;do&#160;not&#160;have&#160;files&#160;of&#160;their&#160;own&#46;&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>568</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>569</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;cl&#45;naive&#45;store&#46;naive&#45;core&#58;load&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>570</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;&#40;store&#160;document&#45;type&#45;store&#45;mixin&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>571</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#40;definition&#45;type&#160;&#40;eql&#160;&#58;collection&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>572</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;definition&#160;&#38;key&#160;class&#160;with&#45;children&#45;p&#160;with&#45;data&#45;p&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>573</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>574</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;declare&#160;&#40;ignore&#160;with&#45;children&#45;p&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>575</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>576</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#42;&#160;&#40;&#40;definition&#45;body&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;definition&#45;body&#160;definition&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>577</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;instance&#160;&#40;instance&#45;from&#45;definition&#160;&#40;or</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>578</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;getx&#160;definition&#45;body&#160;&#58;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>579</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;class</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>580</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;getx&#160;store&#160;&#58;collection&#45;class&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>581</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39;document&#45;type&#45;collection&#45;mixin&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>582</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;definition&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>583</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;document&#45;type&#45;definition&#160;&#40;and&#160;</span><span class='state-10'>&#40;getx&#160;</span><span class='state-2'>definition&#45;body</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;document&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>584</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;get&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>585</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;location&#160;instance&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>586</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>587</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;getx&#160;definition&#45;body&#160;&#58;document&#45;type&#41;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>588</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>589</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-10'>&#40;getx&#160;</span><span class='state-2'>definition&#45;body</span><span class='state-10'>&#160;</span><span class='state-2'>&#58;document&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>590</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;let&#160;&#40;&#40;document&#45;type&#160;&#40;get&#45;multiverse&#45;element</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>591</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>592</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;store</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>593</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;getx&#160;definition&#45;body&#160;&#58;document&#45;type&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>594</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>595</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>596</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;document&#45;type&#160;&#40;load&#45;from&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>597</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;store</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>598</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;document&#45;type&#45;definition</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>599</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;class&#160;&#40;getx&#160;definition&#45;body&#160;&#58;collection&#45;class&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>600</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>601</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>602</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;error&#160;&#34;Collection&#160;document&#45;type&#160;could&#160;not&#160;be&#160;found&#46;&#34;&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>603</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>604</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;when&#160;with&#45;data&#45;p</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>605</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;load&#45;data&#160;instance&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>606</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>607</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;when&#160;instance</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>608</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;&#40;store&#160;instance&#41;&#160;store&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>609</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>610</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;instance&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>611</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>612</code></div><code>&#160;<span class='state-1'>&#40;defmethod&#160;persist&#45;definition&#160;&#40;&#40;collection&#160;document&#45;type&#45;collection&#45;mixin&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>613</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#40;naive&#45;impl&#58;write&#45;to&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>614</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#40;cl&#45;fad&#58;merge&#45;pathnames&#45;as&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>615</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;pathname&#160;&#40;location&#160;&#40;store&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>616</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#40;make&#45;pathname&#160;&#58;name&#160;&#40;name&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>617</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;type&#160;&#34;col&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>618</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#40;list</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>619</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#58;name&#160;&#40;name&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>620</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#58;class&#160;&#40;type&#45;of&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>621</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#58;location&#160;&#40;location&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>622</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#59;&#59;TODO&#58;&#160;Should&#160;we&#160;check&#160;if&#160;the&#160;document&#160;type&#160;is&#160;persisted&#160;as&#160;well&#63;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>623</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#59;&#59;TODO&#58;&#160;Should&#160;we&#160;check&#160;if&#160;the&#160;document&#160;type&#160;is&#160;registered&#160;with&#160;the&#160;store&#63;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>624</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;&#40;and&#160;</span><span class='state-9'>&#40;document&#45;type&#160;</span><span class='state-1'>collection</span><span class='state-9'>&#41;</span><span class='state-1'>&#160;&#40;name&#160;&#40;document&#45;type&#160;collection&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>625</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>626</code></div><code>&#160;<span class='state-1'>&#160;&#160;&#160;&#58;if&#45;exists&#160;&#58;supersede&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>627</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>628</code></div><code>&#160;<span class='state-2'>&#40;defun&#160;values&#45;from&#45;key&#45;elements&#37;&#160;&#40;elements&#160;document&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>629</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>630</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;values&#160;&#40;document&#45;values&#160;document&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>631</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;dolist&#160;&#40;element&#160;elements&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>632</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-10'>&#40;key&#45;p&#160;</span><span class='state-2'>element</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>633</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;push&#160;&#40;list&#160;&#40;name&#160;element&#41;&#160;nil&#160;&#40;getx&#160;values&#160;&#40;name&#160;element&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>634</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;keys&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>635</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;reverse&#160;keys&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>636</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>637</code></div><code>&#160;<span class='state-2'>&#40;defmethod&#160;key&#45;values&#160;&#40;&#40;collection&#160;document&#45;type&#45;collection&#45;mixin&#41;&#160;document&#160;&#38;key&#160;&#38;allow&#45;other&#45;keys&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>638</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#40;let&#160;&#40;&#40;document&#45;type&#160;&#40;document&#45;type&#160;collection&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>639</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;when&#160;</span><span class='state-10'>&#40;stringp&#160;</span><span class='state-2'>document&#45;type</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>640</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#59;&#59;If&#160;types&#160;have&#160;not&#160;been&#160;loaded&#160;yet&#160;load&#160;type&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>641</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;unless&#160;</span><span class='state-10'>&#40;document&#45;types&#160;</span><span class='state-2'>&#40;store&#160;collection&#41;</span><span class='state-10'>&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>642</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;setf&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>643</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;cl&#45;naive&#45;store&#46;naive&#45;core&#58;&#58;instance&#45;from&#45;definition&#45;file</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>644</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#40;store&#160;collection&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>645</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#58;document&#45;type&#160;document&#45;type&#41;&#41;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>646</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>647</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;unless&#160;document&#45;type</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>648</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#59;&#59;Raising&#160;an&#160;error&#160;here&#160;because&#160;there&#160;is&#160;a&#160;problem&#160;with&#160;datatype&#160;specifications&#160;some&#160;where&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>649</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;&#40;error&#160;&#34;key&#45;values&#160;called&#160;with&#160;document&#45;type&#160;&#61;&#160;nil&#46;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>650</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#160;&#160;cl&#45;wfx&#160;tip&#58;&#160;If&#160;this&#160;happened&#160;on&#160;a&#160;save&#160;look&#160;for&#160;a&#160;mismatch&#160;between&#160;a&#160;collection&#160;and&#160;its&#160;document&#45;type&#39;s&#160;destinations&#34;&#41;&#41;</span><span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>651</code></div><code>&#160;<span class='state-0'></span></code></div></nobr>
<nobr><div class='source'><div class='line-number'><code>652</code></div><code>&#160;<span class='state-2'>&#160;&#160;&#160;&#160;&#40;values&#45;from&#45;key&#45;elements&#37;&#160;&#40;elements&#160;document&#45;type&#41;&#160;document&#41;&#41;&#41;</code></div></body></html>